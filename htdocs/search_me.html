<html>
 <head>
    <title>Faceted Search of modENCODE Data Sets</title>
  
    <link href="js/modencode.js" type="application/json" rel="exhibit/data" />

    <link rel='stylesheet' href="css/common.css" type='text/css' />
    <link rel='stylesheet' href="css/me.css" type='text/css' />

    <script src="http://api.simile-widgets.org/exhibit/2.2.0/exhibit-api.js"
            type="text/javascript"></script>

    <script src="js/prototype.js"
            type="text/javascript"></script>

    <script type="text/javascript" src="js/balloon.config.js"></script>
    <script type="text/javascript" src="js/balloon.js"></script>

    <script src="js/utilities.js"
	    type="text/javascript">
    </script>


 </head> 

<div class="header">
    <h1><a href="www.modencode.org"><img src="http://www.modencode.org/img/modENCODE_logo_small.png" height="60" align="middle" border="0"/></a>
      Search modENCODE Data Sets</h1>
</div>

    <table width="100%" border='0'>
      <tr valign="middle">
	<td width="20%">
	  Search: <span ex:role="facet" ex:facetClass="TextSearch"></span>
	</td>
	<td colspan="2">
	  <div class="status" id="selection_count">no tracks selected</div>
	</td>
      </tr>
    </table>

    <table width="100%" border='0'>
	<td id="left-column" width="20%">
	  <div  ex:role="facet" ex:expression=".organism"  ex:height="8em" ex:facetLabel="Organism"></div>
	  <div  ex:role="facet" ex:expression=".technique" ex:height="8em" ex:facetLabel="Technique"></div>
	  <div  ex:role="facet" ex:expression=".target"    ex:height="8em" ex:facetLabel="Target Type"></div>
	  <div  ex:role="facet" ex:expression=".factor"    ex:height="8em" ex:facetLabel="Factor"></div>
	</td>

	<td id="middle-column" width="60%">
	  <div ex:role="view" ex:viewClass="Thumbnail" id="filter_results"></div>
	  <div ex:role="lens" ex:onshow="hilight_items()" class="submission" style="display:none" onmouseover="popup(event,this)">
	    <div class="select-track">
	      <div>
		<label>
		  <input type="checkbox" ex:onClick-subcontent="toggle_track(this)"/>Select track
		</label>
	      </div>
	    </div>
	    <div class="name">
	      <span  ex:content=".technique" class="field-label"></span>:<br>
	      <span  ex:content=".label"></span>
	    </div>

	    <!-- This is the details balloon -->
	    <div class="popup">
	      <div class="popup-contents">
		<div>
		  <span class="field-label">Biological Source:</span>
		  <span class="organism">
		    <span ex:content=".organism"></span>
		    <span ex:content=".Strain"></span>
		  </span>
		</div>
		<div class="experiment">
		  <span class="field-label">Experiment type:</span>
		  <span ex:if-exists=".technique">
		    <span ex:content=".technique"></span>
		  </span>
		  <span ex:if-exists=".target">
		    <span ex:content=".target"></span>
		  </span>
		</div>
		<div ex:if-exists=".factor">
		  <span class="field-label">Factor:</span>	
		  <span ex:content=".factor" style="font-weight:bold"></span>
		</div>
		<div class="condition">
		  <span class="field-label">Conditions:</span>
		  <span ex:if-exists=".Developmental-Stage">
		    <span ex:content=".Developmental-Stage"></span>
		  </span>
		  <span ex:if-exists=".temperature">
		    <span ex:content=".temperature"></span>
		  </span>
		  <span ex:if-exists=".Compound">
		    <span ex:content=".Compound"></span> salt
		  </span>
		</div>
	      </div>
	    </div>
	  </div>
	</td>
	
	<td id="right-column" width="20%">
	  <div  ex:role="facet" ex:expression=".Developmental-Stage" ex:height="8em" ex:facetLabel="Developmental Stage"></div>
	  <div  ex:role="facet" ex:expression=".Strain"              ex:height="8em" ex:facetLabel="Strain"></div> 
	  <div  ex:role="facet" ex:expression=".Cell-Line"           ex:height="8em" ex:facetLabel="Cell Line"></div>
	  <div  ex:role="facet" ex:expression=".Tissue"              ex:height="8em" ex:facetLabel="Tissue"></div>
	  <div  ex:role="facet" ex:expression=".temperature"         ex:height="8em" ex:facetLabel="Temperature"></div>
	</td>
      </tr>
    </table>
<!--    
    <div ex:role="facet" 
	 ex:facetClass="Cloud"
	 ex:expression=".technique" 
    </div>
    <div ex:role="facet" 
	 ex:facetClass="Cloud"
	 ex:expression=".Developmental-Stage" 
     </div>
    <div ex:role="facet" 
	 ex:facetClass="Cloud"
	 ex:expression=".Cell-Line" 
     </div>
-->


 </body>
 </html>
