<html>
 <head>
    <title>Faceted Search of modENCODE Data Sets</title>
  
    <link href="js/modencode.js" type="application/json" rel="exhibit/data" />

    <link rel='stylesheet' href="css/common.css" type='text/css' />
    <link rel='stylesheet' href="css/me.css" type='text/css' />

    <script src="js/exhibit/exhibit-api.js"
            type="text/javascript"></script>

    <script src="js/prototype.js"
            type="text/javascript"></script>

    <script type="text/javascript" src="js/balloon.config.js"></script>
    <script type="text/javascript" src="js/balloon.js"></script>

    <script src="js/functions.js"
	    type="text/javascript">
    </script>
 </head> 

<body>
<div class="header">
    <h1><a href="www.modencode.org"><img src="http://www.modencode.org/img/modENCODE_logo_small.png" height="60" align="middle" border="0"/></a>
      Search modENCODE Data Sets</h1>
</div>

<!-- this is the search box, list of selected tracks, and control buttons -->
<div class="status">
  <table width="100%" border='0'>
    <tr valign="bottom">
      <td width="15%"  style="vertical-align:middle">
	<b>Internet Explorer users: If this page is too slow for you, consider Firefox, Safari or Chrome.</b><br><br>
	<b>Search:</b> <span id="searchbox" ex:role="facet" ex:facetClass="TextSearch"></span>
      </td>
      <td colspan="2" width="70%">
	<table width="100%">
	  <tr>
	    <th id="dataset_count">Selected Datasets:</th>
	  </tr>
	  <tr>
	    <th align="left">
	      <ul id="shopping_cart"><i style="color:gray">No datasets selected</i></ul>
	    </th>
	  </tr>
	  <tr>
	    <th>
	      <div id="retrieve_buttons" style="display:none">
		<button id="browse_worm">Browse worm tracks</button>
		<button id="browse_fly">Browse fly tracks</button>
		<button id="download data">Download</button>
		<button id="clear data" onclick="clear_all()">Clear All</button>
	      </div>
	    </th>
	  </tr>
	</table>

	<div id="selection_count"></div>

      </td>
      <td>&nbsp;</td>
    </tr>
  </table>
</div>
	    
<!-- this is the faceted search area and results-->
<table border='0'>

<!-- left column, organism, technique, target and factor facets -->
  <td id="left-column" width="15%">
    <div  ex:role="facet" ex:expression=".organism"  ex:height="8em" ex:facetLabel="Organism"></div>
    <div  ex:role="facet" ex:expression=".technique" ex:height="8em" ex:facetLabel="Technique"></div>
    <div  ex:role="facet" ex:expression=".target"    ex:height="8em" ex:facetLabel="Target Type"></div>
    <div  ex:role="facet" ex:expression=".factor"    ex:height="8em" ex:facetLabel="Factor"></div>
  </td>
  
<!-- middle column: exhibit results -->
  <td id="middle-column">

   <div style="height:800px; overflow:auto"
	ex:role="view" 
	ex:viewClass="Tabular" 
	ex:columnLabels="Select Dataset,Organism,Technique,Target,Factor,Conditions"
	ex:rowStyler="zebraStyler"
	ex:border="1"
	ex:cellSpacing="1"
	ex:cellPadding="3"
	ex:columns=".label,.organism,.technique,.target,.factor,.Developmental-Stage" 
	ex:abbreviatedCount="20" id="filter_results">
     <table>
       <tr class="submission">
	 <td><input type="checkbox" onClick="toggle_track(this)" ex:id-subcontent="{{.label}}"></input>
	   <span ex:content=".label"></span>
	 </td>
	 <td><span ex:content=".organism"></span></td>
	 <td><span ex:content=".technique"></span></td>
	 <td><span ex:content=".target"></span></td>
	 <td><span ex:content=".factor"></span></td>
	 <td>
	   <span ex:if-exists=".Developmental-Stage">
	     <span ex:content=".Developmental-Stage"></span>
	   </span>
	   <span ex:if-exists=".temperature">
	     <span ex:content=".temperature"></span>
	   </span>
	   <span ex:if-exists=".Compound">
	     <span ex:content=".Compound"></span>
	   </span>
	 </td>
       </tr>
     </table>
</div>
<!-- right column: developmental stage, strain, cell line and tissue facets -->
  <td id="right-column" width="15%">
    <div  ex:role="facet" ex:expression=".Developmental-Stage" ex:height="8em" ex:facetLabel="Developmental Stage"></div>
    <div  ex:role="facet" ex:expression=".Strain"              ex:height="8em" ex:facetLabel="Strain"></div> 
    <div  ex:role="facet" ex:expression=".Cell-Line"           ex:height="8em" ex:facetLabel="Cell Line"></div>
    <div  ex:role="facet" ex:expression=".Tissue"              ex:height="8em" ex:facetLabel="Tissue"></div>
    <div  ex:role="facet" ex:expression=".Compound"            ex:height="8em" ex:facetLabel="Compound"></div>
    <div  ex:role="facet" ex:expression=".temperature"         ex:height="8em" ex:facetLabel="Temperature"></div>
  </td>
</tr>
</table>

</body>
</html>
